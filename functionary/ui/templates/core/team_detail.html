{% extends "base.html" %}
{% block content %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a class="text-decoration-none" href="{% url 'ui:team-list' %}">Team List</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">{{ team.name }}</li>
        </ol>
    </nav>
    <h1 class="pt-2 mb-4">
        <i class="fa fa-users"></i>
        <span>{{ team.name }}</span>
    </h1>
    <div class="vstack gap-2 my-2">
        <div>
            <strong class="fs-4"><i class="fa fa-building fa-sm fa-fw me-1"></i>Environments</strong>
            <div class="ms-4 my-2">
                <div id="envs" class="list-group list-group-flush">
                    {% for env in environments %}
                        <a href="{% url 'ui:environment-detail' env.id %}"
                           class="list-group-item list-group-item-action">
                            <p class="fw-bold mb-0">{{ env.name }}</p>
                            <p class="ms-4 mb-0">{{ env.description }}</p>
                        </a>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% if not request.session.user_can_update_team %}
            <div>
                <strong class="fs-4"><i class="fa fa-user fa-sm fa-fw me-1"></i>Users</strong>
                <div class="ms-4 my-2">
                    <div id="users" class="list-group list-group-flush">
                        {% for u in user_details %}
                            <p class="list-group-item fw-bold mb-0">
                                {{ u.first_name }} {{ u.last_name }}
                                <span class="text-muted">({{ u.username }})</span>
                            </p>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% else %}
            {% include "partials/teams/team_management.html" %}
        {% endif %}
        {% include "partials/variables_section.html" with parent_object=team parent_id=team.id %}
    </div>
{% endblock content %}
