<label class="label" for="users">
    <i class="fa fa-user"></i>&nbsp;Users:
    <button class="button is-small has-text-link is-white singletonActive"
            hx-trigger="click"
            hx-get="{% url 'ui:create-environment-member' environment_id %}"
            hx-target="#add-user"
            type="button">
        <span class="fa fa-plus"></span>
    </button>
</label>

<div id="add-user">
</div>

<table class="table is-hoverable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Username</th>
            <th>Effective Role</th>
            <th>Role Origin</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for u in users %}
            <tr>
                <td>{{ u.user.first_name }} {{ u.user.last_name }}</td>
                <td>{{ u.user.username }}</td>
                <td>{{ u.role }}</td>
                <td>{{ u.origin }}</td>
                <td>
                    <button class="button is-small has-text-link is-white singletonActive"
                            hx-get="{% url 'ui:update-environment-member' environment_id=environment_id user_id=u.user.id %}"
                            hx-target="#update-modal">
                        <span class="fa fa-wrench"></span>
                    </button>
                </td>
                <td>
                    <button class="button is-small has-text-link is-white singletonActive"
                            hx-delete="{% url 'ui:delete-environment-member' environment_id=environment_id user_id=u.user.id %}"
                            hx-confirm="Are you sure you want to remove {{ u.user.username }}'s from this environment?"
                            hx-target="closest tr"
                            hx-swap="outerHTML swap:1s">
                        <span class="fa fa-trash"></span>
                    </button>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
<div id="update-modal">
</div>
